first let me show you where linux store our users and groups info for recap 

|**File**|**Purpose**|**Example Entry**|
|---|---|---|
|`/etc/passwd`|Basic user info (username, UID, GID, shell, home dir)|`ahmed:x:1000:1000:Ahmed,,,:/home/ahmed:/bin/bash`|
|`/etc/shadow`|Encrypted passwords and account aging info|`ahmed:$6$hash$...:19500:0:99999:7:::`|
|`/etc/group`|Group info (group name, GID, members)|`developers:x:1001:ahmed,mary`|
|`/etc/gshadow`|Secure group passwords (rarely used)|`developers:!:ahmed:`|


## **Managing Users**

|**Task**|**Command**|**Example**|
|---|---|---|
|Create a user|`sudo useradd <username>`|`sudo useradd ahmed`|
|Create with home dir|`sudo useradd -m ahmed`|â€”|
|Delete a user|`sudo userdel <username>`|`sudo userdel ahmed`|
|Delete user + home dir|`sudo userdel -r ahmed`|â€”|
|Change user password|`sudo passwd <username>`|`sudo passwd ahmed`|
|Modify user info|`sudo usermod <options> <username>`|`sudo usermod -s /bin/zsh ahmed`|
|View user info|`id <username>`|`id ahmed`|

ðŸ’¡ The `useradd` command also updates `/etc/passwd`, `/etc/shadow`, and `/etc/group` automatically.

### Important Note
he difference between **`useradd`** and **`adduser`** in Linux often confuses newcomers because both are used to create new users, but they **arenâ€™t the same tool**. 
## **Overview**

|Command|Type|Origin|Main Difference|
|---|---|---|---|
|**`useradd`**|Low-level binary command|Part of the **`shadow-utils`** package|A **basic** tool that adds a user with minimal setup; needs more options for full configuration.|
|**`adduser`**|High-level Perl (or shell) script|Debian/Ubuntu (and derivatives)|A **friendlier wrapper** around `useradd`; it interactively sets up home directory, password, and other defaults.|
### **`useradd` â€” Low-Level Command**

`useradd` is the **core utility** used across almost all Linux distributions (Red Hat, CentOS, Fedora, Debian, Ubuntu, etc.).
### **Usage:**
`sudo useradd [options] username`
### **Key characteristics:**
- Does **not** create a home directory unless you use `-m`.
- Does **not** prompt for a password â€” you must run `passwd` separately.
- Ideal for scripting or automated setup.
- Available on **all** Linux systems.

Note: when you use `-p` to set a password you set an initial password and linux store it as it is in the `/etc/shadow` file, so the best practice is to add the user first and then add the password, then the password will be encrypted in the `/etc/shadow` file and force the user to change his password after his first login by one of the following methods:

1. Using `passwd -e` ex `sudo passwd -e username`
2. Using `chage` `sudo chage -d 0 username`

### **`adduser` â€” High-Level Wrapper**
`adduser` is **not** a separate binary, but a **script that uses `useradd` under the hood**, mainly on **Debian-based systems** (Ubuntu, Mint, etc.).
### **Usage:**
`sudo adduser username`
### **Key characteristics:**
- **Interactive** â€” it asks for password, full name, room number, etc.
- Automatically:
    - Creates the home directory.
    - Copies default configuration files from `/etc/skel/`.
    - Sets correct ownership and permissions.
- Easier for beginners.

## **Managing Groups**

| **Task**               | **Command**                               | **Example**                        |
| ---------------------- | ----------------------------------------- | ---------------------------------- |
| Create a group         | `sudo groupadd <groupname>`               | `sudo groupadd developers`         |
| Delete a group         | `sudo groupdel <groupname>`               | `sudo groupdel developers`         |
| Add user to a group    | `sudo usermod -aG <groupname> <username>` | `sudo usermod -aG sudo ahmed`      |
| Remove user from group | `sudo gpasswd -d <username> <groupname>`  | `sudo gpasswd -d ahmed developers` |
| List userâ€™s groups     | `groups <username>`                       | `groups ahmed`                     |
| List all groups        | `getent group`                            | â€”                                  |
